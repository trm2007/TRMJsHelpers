# Вспомогательный набор js-функций
Это функции, помогающие в разработке.
В них реализован часто используемый функционал (по крайней мере в наших проектах :-) ).

## debugPrint
Выодит в консоль отладочную информацию используя разные цвета.
Если для вывода передан объект или массив, то будут debugPrint переберкт все ключи,
и выведет значения каждого из них.

### Аргументы:
- Data - объект данных, информацию о котором нужно вывести
- Title - заголовок, если указан, то будет отображаться в консоле перед выводом основной информации, полежно использовать для отслеживания начала блока
- OriginalFlag - булево значение, если указать true, то перед выводом основной информации объект будет отображен в консоли стандартным выводом console.log (или console.trace, если указан TraceFlag) "как есть", по умолчанию не используется = false
- TraceFlag - булево значение, если указать true, то при указании OriginalFlag вместо console.log будет использован console.trace для отслеживания последовательности вызовов, по умолчанию не используется = false

### Результат
Фцнкция ничего не возвращает.

### Пример
```js
// сначала напечаает синий заголовок - fetchDataFromCont,
// затем выведет стандартным console.log объект this.$fetch
// и затем информацию о значении в каждом ключе этого объекта подкращивая ключи зеленым цветом
debugPrint(this.$fetch, "fetchDataFromCont", true);
```


## generateGetUrl
Генерирует URL для GET-запроса, добавляя к строке get-запроса пары key=value, из объекта Options.
Использует стандартный объект JavaScript - URL и его значение searchParams.
Это функцию удобно использовать для формирования адреса GET-запроса кода есть адрес домена и объект с набором необходимых параметров.

### Аргументы:
- Url - строка с адресом
- Options - объект с параметрами {ключ: значение, ...}, которые будут добавлены к адресу в виде ключ=значение

### Результат
Возвращает строку с дополненым Url.

### Пример
```js
let Url = "https://www.site.ru/posts";

let Data = {
  id: "12",
  date: "01.01.2021"
};

// в результате NewUrl будет содержать строку - https://www.site.ru/posts?id=12&date=01.01.2021
let NewUrl = generateGetUrl(Url, Data);


```

## checkFetchResponseStatus
Стандартная функция JavaScript - fetch возвращает Promise с данными ответа.
В ответе есть статус, который часто нужно проверить.
Например 200 - удачный запрос, 401 - пользователь не авторизован, 404 - страница не найдена и т.д.
Во всех этих случаях Promise возвращается в состоянии resolved. 
Тогда в секции then нужно проверить статус, и, например, если вернулся статус 401, то перенаправить пользователя на страницу авторизации.

### Аргументы:
- Response - объект ответа, который вернется с промисом в результате запроса функцией fetch
- ResponseStatus - числовой код для сравнения со статусом ответа, например 200, или 404 или др.

### Результат
Функция вернет true в случае совпадения ответа с указанным ResponseStatus, 
в противном случае - false.

### Пример
```js
// для примера здесь указан относительный адрес
fetch("/get_some_data")
  .then( (Response) => {
    if(checkFetchResponseStatus(Response, 401) {
    // запрос завершился ответом 401, reject вернет промис, который будет обработан в секции catch
      reject(new Error("Необходима авторизация"))
    }
    if(checkFetchResponseStatus(Response, 200) {
      // запрос успешный, вернем результат JSON-парсинга
      return Response.json();
    }    
  })
  .then((JsonObject) => {
    // вывод в консоль информации об объекте
    debugPrint(JsonObject, "Результирующий JsonObject", true);
  })
  .catch( (err) => {
    // для примера в случае неудачи перенаправляем пользователя на страницу авторизации
    window.location = "/login";
  });

```
